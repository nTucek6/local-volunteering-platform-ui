<div class="main-container">
  <h1 class="title">New event</h1>
  <form (ngSubmit)="formSubmit()" id="new-event-form" autocomplete="auto">
    <mat-form-field class="form-group">
      <mat-label>Category</mat-label>
      <mat-select
        [(ngModel)]="selectedCategory"
        name="category"
        [ngModelOptions]="{ standalone: true }"
      >
        <ng-container *ngFor="let cat of eventCategories">
          <mat-option [value]="cat">{{ cat | titlecase }}</mat-option>
        </ng-container>
      </mat-select>
    </mat-form-field>
    <mat-form-field class="form-group">
      <mat-label>Title</mat-label>
      <input
        type="text"
        matInput
        name="title"
        placeholder="Title"
        [(ngModel)]="selectedTitle"
        autocomplete="auto"
        [ngModelOptions]="{ standalone: true }"
      />
    </mat-form-field>

    <mat-form-field class="form-group">
      <mat-label>Description</mat-label>
      <textarea
        matInput
        cdkTextareaAutosize
        #autosize="cdkTextareaAutosize"
        name="description"
        placeholder="Description..."
        [(ngModel)]="selectedDescription"
        autocomplete="auto"
        [ngModelOptions]="{ standalone: true }"
      ></textarea>
    </mat-form-field>

    <mat-form-field class="form-group">
      <mat-label>Details</mat-label>
      <textarea
        matInput
        cdkTextareaAutosize
        #autosize="cdkTextareaAutosize"
        name="details..."
        placeholder="Details..."
        [(ngModel)]="selectedDetails"
        autocomplete="auto"
        [ngModelOptions]="{ standalone: true }"
      ></textarea>
    </mat-form-field>

    <mat-form-field class="form-group">
      <mat-label>Location</mat-label>
      <input
        type="text"
        matInput
        name="location"
        placeholder="Location"
        [(ngModel)]="selectedLocation"
        autocomplete="auto"
        [ngModelOptions]="{ standalone: true }"
      />
    </mat-form-field>

    <mat-form-field class="form-group">
      <mat-label>Address</mat-label>
      <input
        type="text"
        matInput
        name="address"
        placeholder="Address"
        [(ngModel)]="selectedAddress"
        autocomplete="auto"
        [ngModelOptions]="{ standalone: true }"
      />
    </mat-form-field>

    <mat-form-field class="form-group">
      <mat-label>Choose a date</mat-label>
      <input
        name="date"
        matInput
        [matDatepicker]="picker"
        [(ngModel)]="selectedDate"
        [ngModelOptions]="{ standalone: true }"
      />
      <mat-datepicker-toggle
        matIconSuffix
        [for]="picker"
      ></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
    <mat-form-field class="form-group">
      <mat-label>Meeting time</mat-label>
      <input
        name="time"
        matInput
        [matTimepicker]="timepicker"
        [(ngModel)]="selectedDate"
      />
      <mat-timepicker #timepicker />
      <mat-timepicker-toggle [for]="timepicker" matSuffix />
    </mat-form-field>
    <div class="form-group input-image">
      <input
        type="file"
        name="image"
        placeholder="Upload images"
        (change)="onFileSelected($event)"
        multiple
        accept="image/*"
        autocomplete="auto"
      />
    </div>
    <button type="submit" class="save-btn" mat-button>Create</button>
  </form>
  <div
    id="image-preview"
    [ngStyle]="{ 'margin-bottom': selectedImages.length > 0 ? '200px' : '0' }"
  >
    <ng-container *ngFor="let path of imagePreviews; let i = index">
      <img [src]="path" alt="Image preview" (click)="removeImage(i)" />
    </ng-container>
  </div>
</div>
